<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DYS Garage Training</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <header>
      <h1>DYS Garage Training & Certification</h1>
    </header>

    <nav>
      <button onclick="showSection('training')">ğŸ“š Training</button>
      <button onclick="showSection('quiz')">â“ Quiz</button>
      <button id="certButton" onclick="showSection('certificate')" disabled>
        ğŸ“ Certificate
      </button>
    </nav>

    <main>
      <section id="welcome">
        <div class="welcome-box">
          <h2>ğŸ‘‹ Welcome to the DYS Garage Training Portal</h2>
          <p>
            This training app is designed to guide you step-by-step through accessing the DYS Garage SharePoint site
            from outside the DHS network using Microsoft login and multi-factor authentication.
          </p>
          <p>
            Once you've completed the training module, you'll take a short quiz to demonstrate your understanding.
            A passing score will unlock a personalized, downloadable certificate of completion.
          </p>
          <p>
            To begin, click <strong>ğŸ“š Training</strong> above. Letâ€™s get started!
          </p>
        </div>
      </section>
      
      <section id="training" class="hidden"></section>
      <section id="quiz" class="hidden"></section>
      <section id="certificate" class="hidden">
        <div id="certificateContent" class="certificate-container">
          <h2>Certificate of Completion</h2>
          <p>This certifies that</p>
          <h1 id="certName">[Your Name]</h1>
          <p>has successfully completed the</p>
          <h3>DYS Garage Training & Certification</h3>
          <p class="cert-date" id="certDate"></p>
        </div>
        <div id="certificateForm" class="certificate-form">
          <h3>Enter your name to generate your certificate:</h3>
          <form id="nameForm">
            <input
              type="text"
              id="nameInput"
              placeholder="Full Name"
              required
            />
            <button class="pdf-only-hide" onclick="generatePDF()">ğŸ“¥ Download Certificate</button>
          </form>
        </div>
      </section>
    </main>

    <footer>
      <p>Â© Department of Youth Services - Education Division</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="scripts/data.js"></script>
    <script src="scripts/training.js"></script>
    <script src="scripts/quiz.js"></script>
    <script src="scripts/certificate.js"></script>
    <script>
      function showSection(id) {
        ["training", "quiz", "certificate"].forEach((section) => {
          document.getElementById(section).classList.add("hidden");
        });

        document.getElementById(id).classList.remove("hidden");
        document.getElementById("welcome").classList.add("hidden");

        if (id === "certificate") {
          loadCertificateForm(); // Manually trigger form logic
        }
      }
    </script>
  </body>
</html>
